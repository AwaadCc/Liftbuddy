{"ast":null,"code":"import _asyncToGenerator from \"/Users/awaadchaudhry/Desktop/Coding/Projects/Liftbuddy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./home.page.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./home.page.scss?ngResource\";\nimport { Component, ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { Router, NavigationEnd } from '@angular/router';\nimport { Platform, IonContent } from '@ionic/angular';\nimport { File } from '@awesome-cordova-plugins/file/ngx';\nlet HomePage = class HomePage {\n  constructor(storage, router, platform, file) {\n    this.storage = storage;\n    this.router = router;\n    this.platform = platform;\n    this.file = file;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    this.router.events.subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (e) {\n        // If it is a NavigationEnd event re-initalise the component\n        if (e instanceof NavigationEnd) {\n          _this.list = yield _this.storage.get('notes');\n          console.log(_this.list);\n        }\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n  ionViewDidEnter() {\n    this.subscription = this.platform.backButton.subscribe(() => {\n      navigator['app'].exitApp();\n    });\n  }\n\n  ionViewWillLeave() {\n    this.subscription.unsubscribe();\n  }\n\n  isEmpty() {\n    return this.list === undefined || this.list === null;\n  }\n\n  trackElement(item) {\n    return item.key;\n  }\n\n  updateItem(item) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let it = _this2.list.find(element => {\n        return element === item;\n      });\n\n      _this2.router.navigate(['/edit-note'], {\n        state: {\n          obj: item\n        }\n      });\n    })();\n  }\n\n  scrollToTop() {\n    this.content.scrollToTop(500);\n  }\n\n  scrollToBottom() {\n    this.content.scrollToBottom(500);\n  }\n\n  turntostr() {\n    this.file.checkDir(this.file.dataDirectory, 'mydir').then(_ => console.log('Directory exists')).catch(err => console.log(\"Directory doesn't exist\"));\n  }\n\n  save() {\n    // console.log(this.list);\n    this.stringlist = JSON.stringify(this.list); // console.log(this.stringlist);\n\n    const fileName = new Date().getTime() + ''; // console.log(fileName);\n\n    var link = document.createElement('a');\n    link.download = fileName;\n    var blob = new Blob([this.stringlist], {\n      type: 'text/plain'\n    });\n    link.href = window.URL.createObjectURL(blob);\n    link.click();\n  }\n\n  load() {\n    console.log(inputfile); //this.list = JSON.parse(this.stringlist);\n    // console.log(this.list);\n  }\n\n  loadImageFromDevice(event) {\n    this.inputfile = event.target.files[0];\n    const reader = new FileReader();\n    reader.readAsArrayBuffer(this.inputfile);\n\n    reader.onload = () => {\n      // get the blob of the image:\n      let blob = new Blob([new Uint8Array(reader.result)]); // create blobURL, such that we could use it in an image element:\n\n      let blobURL = URL.createObjectURL(blob);\n    };\n\n    reader.onerror = error => {//handle errors\n    };\n  }\n\n};\n\nHomePage.ctorParameters = () => [{\n  type: Storage\n}, {\n  type: Router\n}, {\n  type: Platform\n}, {\n  type: File\n}];\n\nHomePage.propDecorators = {\n  content: [{\n    type: ViewChild,\n    args: [IonContent]\n  }]\n};\nHomePage = __decorate([Component({\n  selector: 'app-home',\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], HomePage);\nexport { HomePage };","map":{"version":3,"mappings":"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","names":["Component","ViewChild","Storage","Router","NavigationEnd","Platform","IonContent","File","HomePage","constructor","storage","router","platform","file","ngOnInit","events","subscribe","e","list","get","console","log","ionViewDidEnter","subscription","backButton","navigator","exitApp","ionViewWillLeave","unsubscribe","isEmpty","undefined","trackElement","item","key","updateItem","it","find","element","navigate","state","obj","scrollToTop","content","scrollToBottom","turntostr","checkDir","dataDirectory","then","_","catch","err","save","stringlist","JSON","stringify","fileName","Date","getTime","link","document","createElement","download","blob","Blob","type","href","window","URL","createObjectURL","click","load","inputfile","loadImageFromDevice","event","target","files","reader","FileReader","readAsArrayBuffer","onload","Uint8Array","result","blobURL","onerror","error","args","selector","template"],"sourceRoot":"","sources":["/Users/awaadchaudhry/Desktop/Coding/Projects/Liftbuddy/src/app/home/home.page.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Storage } from '@ionic/storage';\nimport { ActivatedRoute, Router, RouterEvent, NavigationEnd } from '@angular/router';\nimport { StorageItem } from '../shared/storage-item';\nimport { Platform, IonContent } from '@ionic/angular';\nimport { Filesystem, Directory, Encoding } from '@capacitor/filesystem';\nimport { File } from '@awesome-cordova-plugins/file/ngx';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  @ViewChild(IonContent) private content: IonContent;\n  list: StorageItem[];\n  stringlist: string;\n  subscription: any;\n  inputfile: any;\n  constructor(private storage: Storage, private router: Router,\n    private platform: Platform,\n    private file: File) { }\n  ngOnInit(): void {\n\n\n\n    this.router.events.subscribe(async (e: any) => {\n      // If it is a NavigationEnd event re-initalise the component\n      if (e instanceof NavigationEnd) {\n        this.list = await this.storage.get('notes') as StorageItem[];\n        console.log(this.list);\n      }\n    });\n  }\n\n\n  ionViewDidEnter(){\n    this.subscription = this.platform.backButton.subscribe(()=>{\n        navigator['app'].exitApp();\n    });\n}\n\nionViewWillLeave(){\n    this.subscription.unsubscribe();\n}\n\n  isEmpty() {\n    return this.list === undefined || this.list === null;\n  }\n\n  trackElement(item) {\n    return item.key;\n  }\n\n  async updateItem(item) {\n    let it = this.list.find((element) => {\n      return element === item;\n    });\n    this.router.navigate(['/edit-note'], {state: {obj: item}});\n    \n  }\n\n  scrollToTop() {\n    this.content.scrollToTop(500);\n  }\n\n  scrollToBottom() {\n    this.content.scrollToBottom(500);\n  }\n\n  turntostr() {\n    this.file.checkDir(this.file.dataDirectory, 'mydir').then(_ => console.log('Directory exists')).catch(err => console.log(\"Directory doesn't exist\"));  \n  }\n\n  save() {\n    // console.log(this.list);\n    this.stringlist = JSON.stringify(this.list);\n    // console.log(this.stringlist);\n    const fileName = new Date().getTime() + '';\n    // console.log(fileName);\n    var link = document.createElement('a');\n    link.download = fileName;\n    var blob = new Blob([this.stringlist], {type: 'text/plain'});\n    link.href = window.URL.createObjectURL(blob);\n    link.click();\n  }\n\n  load() {\n    console.log(inputfile);\n    //this.list = JSON.parse(this.stringlist);\n    // console.log(this.list);\n    \n  }\n\n  loadImageFromDevice(event) {\n\n     this.inputfile = event.target.files[0];\n\n    const reader = new FileReader();\n\n    reader.readAsArrayBuffer(this.inputfile);\n\n    reader.onload = () => {\n\n      // get the blob of the image:\n      let blob: Blob = new Blob([new Uint8Array((reader.result as ArrayBuffer))]);\n\n      // create blobURL, such that we could use it in an image element:\n      let blobURL: string = URL.createObjectURL(blob);\n\n    };\n\n    reader.onerror = (error) => {\n\n      //handle errors\n\n     };\n\n  };\n\n}\n"]},"metadata":{},"sourceType":"module"}